<!-- GALLERY SECTION -->
<section class="relative pt-32 pb-14" style="background-image: url('assets/images/background.png'); background-size: cover; background-position: center;">
  <div class="mx-auto max-w-6xl px-4 lg:px-0 space-y-6">
    <!-- ROW 1 SLIDER -->
    <div class="relative" id="gallery-row1">
      <div class="overflow-hidden rounded-2xl">
        <div
          id="gallery-row1-track"
          class="flex transition-transform duration-500 ease-out"
        >
          <!-- SLIDE 1 ROW 1 -->
          <div
            class="min-w-full grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"
          >
          <img
          src="assets/images/2KY_2172.jpg"
          alt="Counter"
          class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
          data-lightbox="gallery"
        />
        <img
          src="assets/images/2KY_2186.jpg"
          alt="Croissants"
          class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
          data-lightbox="gallery"
        />
        <img
          src="assets/images/2KY_1941.jpg"
          alt="Display"
          class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
          data-lightbox="gallery"
        />
        <img
          src="assets/images/2KY_2119.jpg"
          alt="Shelves"
          class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
          data-lightbox="gallery"
        />
          </div>

          <!-- SLIDE 2 ROW 1 (ganti dengan foto lain kalau mau) -->
          <div
            class="min-w-full grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"
          >
            <img
              src="https://images.unsplash.com/photo-1517433670267-08bbd4be890f?w=800&q=80"
              alt="Variation 1"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&q=80"
              alt="Variation 2"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=800&q=80"
              alt="Variation 3"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&q=80"
              alt="Variation 4"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
          </div>
        </div>
      </div>

      <!-- ARROW ROW 1 -->
      <button
        id="gallery-row1-prev"
        aria-label="Previous row 1"
      >
        <span class="sr-only">Previous</span>
        <svg
          class="h-5 w-5"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M15 19L8 12L15 5"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button
        id="gallery-row1-next"
        aria-label="Next row 1"
      >
        <span class="sr-only">Next</span>
        <svg
          class="h-5 w-5"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M9 5L16 12L9 19"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>

    <!-- ROW 2 SLIDER -->
    <div class="relative" id="gallery-row2">
      <div class="overflow-hidden rounded-2xl">
        <div
          id="gallery-row2-track"
          class="flex transition-transform duration-500 ease-out"
        >
          <!-- SLIDE 1 ROW 2 -->
          <div
            class="min-w-full grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"
          >
            <img
              src="assets/images/2KY_1831.jpg"
              alt="Counter"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="assets/images/2KY_1874.jpg"
              alt="Croissants"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="assets/images/2KY_2119.jpg"
              alt="Display"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="assets/images/2KY_2126.jpg"
              alt="Shelves"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
          </div>

          <!-- SLIDE 2 ROW 2 -->
          <div
            class="min-w-full grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4"
          >
            <img
              src="assets/images/2KY_2172.jpg"
              alt="Shelves alt"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="assets/images/2KY_2186.jpg"
              alt="Counter alt"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=800&q=80"
              alt="Croissants alt"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
            <img
              src="https://images.unsplash.com/photo-1509440159596-0249088772ff?w=800&q=80"
              alt="Display alt"
              class="aspect-[4/3] w-full object-cover rounded-xl cursor-pointer"
              data-lightbox="gallery"
            />
          </div>
        </div>
      </div>

      <!-- ARROW ROW 2 -->
      <button
        id="gallery-row2-prev"
        aria-label="Previous row 1"
      >
        <span class="sr-only">Previous</span>
        <svg
          class="h-5 w-5"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M15 19L8 12L15 5"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button
        id="gallery-row2-next"
        aria-label="Next row 1"
      >
        <span class="sr-only">Next</span>
        <svg
          class="h-5 w-5"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M9 5L16 12L9 19"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>
  </div>
</section>
<!-- LIGHTBOX POPUP -->
<div
  id="lightbox"
  class="fixed inset-0 z-[9999] hidden items-center justify-center bg-black/70 px-4"
>
  <div
    class="relative mx-auto flex w-full max-w-5xl items-center justify-center"
  >
    <button
      id="lightbox-close"
      class="absolute -top-10 right-0 text-white/80 hover:text-white text-3xl"
      aria-label="Close"
    >
      Ã—
    </button>

    <img
      id="lightbox-image"
      src=""
      alt=""
      class="max-h-[80vh] max-w-full rounded-2xl shadow-2xl object-contain bg-black/20"
    />
  </div>
</div>
<script>
  // Helper untuk setup slider per row
  function setupRowSlider(trackId, prevId, nextId, intervalMs) {
    const track = document.getElementById(trackId);
    const prevBtn = document.getElementById(prevId);
    const nextBtn = document.getElementById(nextId);

    if (!track || !prevBtn || !nextBtn) return;

    const slides = track.children.length;
    let current = 0;
    let timer = null;

    function goToSlide(index) {
      current = (index + slides) % slides;
      track.style.transform = "translateX(-" + current * 100 + "%)";
    }

    function next() {
      goToSlide(current + 1);
    }

    function prev() {
      goToSlide(current - 1);
    }

    function startAuto() {
      stopAuto();
      timer = setInterval(next, intervalMs || 5000);
    }

    function stopAuto() {
      if (timer) {
        clearInterval(timer);
        timer = null;
      }
    }

    // event
    nextBtn.addEventListener("click", () => {
      next();
      startAuto();
    });

    prevBtn.addEventListener("click", () => {
      prev();
      startAuto();
    });

    // stop auto saat hover (optional)
    track.parentElement.addEventListener("mouseenter", stopAuto);
    track.parentElement.addEventListener("mouseleave", startAuto);

    // init
    goToSlide(0);
    startAuto();
  }

  // setup slider row atas & row bawah
  setupRowSlider(
    "gallery-row1-track",
    "gallery-row1-prev",
    "gallery-row1-next",
    5000
  );
  setupRowSlider(
    "gallery-row2-track",
    "gallery-row2-prev",
    "gallery-row2-next",
    6000
  );

  // LIGHTBOX
  (function () {
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-image");
    const lightboxClose = document.getElementById("lightbox-close");

    if (!lightbox || !lightboxImg || !lightboxClose) return;

    const thumbs = document.querySelectorAll('[data-lightbox="gallery"]');

    thumbs.forEach((img) => {
      img.addEventListener("click", () => {
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt || "";
        lightbox.classList.remove("hidden");
        lightbox.classList.add("flex");
        document.body.style.overflow = "hidden";
      });
    });

    function closeLightbox() {
      lightbox.classList.add("hidden");
      lightbox.classList.remove("flex");
      lightboxImg.src = "";
      document.body.style.overflow = "";
    }

    lightboxClose.addEventListener("click", closeLightbox);

    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) {
        closeLightbox();
      }
    });

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !lightbox.classList.contains("hidden")) {
        closeLightbox();
      }
    });
  })();
</script>
